Das Verfahren zur Linienerkennung nach \citeauthor{hirzer08} basiert, wie in \autoref{sub:line_detection} bereits
 erwähnt, auf dem Verfahren von \citeauthor{clarke96}. \citeauthor{hirzer08} verwendet in seinem Verfahren anstatt
 eines monochromen Bildsignals ein RGB-Signal. Dadurch ändern sich einige Algorithmen geringfügig und werden im
 folgenden Abschnitt erläutert.

Das Verfahren in \autoref{alg:linedetection-hirzer} unterscheidet sich von \autoref{alg:linedetection-clarke}, dass
 anstatt dem monochromen Signal $I_m$ das RGB-Signal $I$ verwendet wird. Dadurch verändern sich auch die Verfahren
 \textproc{findEdgels} und \textproc{findLineSegments}.

\input{alg/analyse-hirzer/linedetection-hirzer}

In dem Verfahren zur Erstellung von \gls{edgel} in \autoref{alg:findedgelshirzer-1}--\autoref{alg:findedgelshirzer-2}
 wird im Gegensatz zu \autoref{alg:findedgels-horizontal} die Faltung für alle drei Farbkanäle durchgeführt (Vgl. Zeile
 \ref{alg:findedgelshirzer-1-color-start}--\ref{alg:findedgelshirzer-1-color-end} in \autoref{alg:findedgelshirzer-1}
 und Zeile \ref{alg:findedgelshirzer-2-color-start}--\ref{alg:findedgelshirzer-2-color-end} in
 \autoref{alg:findedgelshirzer-2}).

\input{alg/analyse-hirzer/findedgelshirzer-1}
\input{alg/analyse-hirzer/findedgelshirzer-2}

Betrachtet man die Methode \textproc{convoluteKernelX} und \textproc{convoluteKernelY} stellt man fest, dass hier eine
 Angabe zum Farbkanal erfolgt. In \autoref{alg:convolutekernelhirzer-horizontal} und
 \autoref{alg:convolutekernelhirzer-vertical} wird durch den Aufruf der Methode \textproc{getRGBValue} ein bestimmter
 Farbkanal betrachtet.

\input{alg/analyse-hirzer/convolutekernelhirzer}

Auch das Verfahren \textproc{gradientIntensity} in \autoref{alg:gradientintensityhirzer} verwendet die Methode
 \textproc{getRGBValue}.

\input{alg/analyse-hirzer/gradientIntensityhirzer}

\textproc{getRGBValue} dient dem auslesen eines \gls{pixel} für einen angegeben Farbkanal. In \autoref{alg:getrgbvalue} ist das Verfahren beschrieben.

\input{alg/analyse-hirzer/getrgbvalue}

Das Verfahren benötigt das RGB-Signal $I$, die Position des \gls{pixel} ($x$, $y$), den Farbkanal, sowie die Breite $w$
 und Höhe $h$ von $I$. In den Zeilen \ref{alg:getrgbvalue-sanity-start}--\ref{alg:getrgbvalue-sanity-end} wird
 sichergestellt, dass kein \gls{pixel} ausserhalb der Bildgrenzen gelesen werden können. In Zeile
 \ref{alg:getrgbvalue-offset} wird der Adressabstand für ein \gls{pixel} berechnet. Die Adresse des \gls{pixel} wird in
 Zeile \ref{alg:getrgbvalue-address} aus der Adresse von $I$ und dem Adressabstand berechnet. Zuletzt wird der Wert des
 \gls{pixel} in Zeile \ref{alg:getrgbvalue-returncolor} für den angegeben Farbkanal zurückgegeben.

Das Verfahren von \citeauthor{clarke96} (\autoref{sub:linienerkennung_nach_clarke96}) liefert als Ergebnis nur kurze
 Liniensegmente, die zur Erkennung einer Marke ungeeignet sind. Im Verfahren von \citeauthor{hirzer08} werden kurze
 Liniensegmente zusammengeführt. Dazu dient das Verfahren \textproc{mergeLines}, dass in \autoref{alg:mergelines1}
 vorgestellt wird.

\input{alg/analyse-hirzer/mergelines-1}

In der Schleife von Zeile \ref{alg:mergelines1-loop-start}--\ref{alg:mergelines1-loop-end} werden alle Liniensegmente
 untersucht. In Zeile \ref{alg:mergelines1-distancepool} wird zuerst ein Speicherbereich für Distanzwerte der Linien
 initialisiert. Für jeden Lauf der Schleife wird in Zeile \ref{alg:mergelines1-cleardistancepool} der Speicherbereich
 der Distanzwerte gelöscht. Danach wird in Zeile \ref{alg:mergelines1-getline} ein Liniensegment an Position $i$
 ausgewählt. Dieses Liniensegment wird in \autoref{alg:mergelines2}--\autoref{alg:mergelines3} untersucht, um ein
 zweites, kompatibles, Liniensegment zu finden. In Zeile
 \ref{alg:mergelines1-hasdistance-start}--\ref{alg:mergelines1-hasdistance-end} wird die Anzahl der Distanzwerte
 untersucht. Wenn keine Einträge in \textproc{distancepool} vorhanden sind, wird die Verarbeitung mit einem neuen
 Durchlauf der Schleife fortgesetzt. Andernfalls werden in Zeile \ref{alg:mergelines1-mergelines} mit
 \autoref{alg:mergelines4}--\autoref{alg:mergelines6} komaptible Liniensegmente zusammengeführt.

In \autoref{alg:mergelines2} wird in der Schleife \ref{alg:mergelines2-loop-start}--\ref{alg:mergelines3-loop-end} ein
 zweites Liniensegment gesucht, das kompatibel mit dem ersten Liniensegment ist.

\input{alg/analyse-hirzer/mergelines-2}

In Zeile \ref{alg:mergelines2-ignore-start}--\ref{alg:mergelines2-ignore-end} werden Liniensegmente an der gleichen
 Position ignoriert und die Schleife mit einem neuen Lauf wiederholt. Danach wird in Zeile \ref{alg:mergelines2-j} ein
 Liniensegment an Position $j$ ausgewählt. In Zeile
 \ref{alg:mergelines2-orientation-start}--\ref{alg:mergelines2-orientation-end} wird die Orientierung der beiden
 Liniensegmente und die Orientierung der Verbindungslinie berechnet.

In Zeile \ref{alg:mergelines3-isorientationcompatible} (\autoref{alg:mergelines3}) wird die Orientierung untersucht,
 die sowohl für die Lininesegmente, als auch für die Verbindungsline, nur geringfügig abweichen darf. Wenn die
 Überprüfung positiv ausfällt, wird in Zeile \ref{alg:mergelines3-cline-start}--\ref{alg:mergelines3-cline-end} die
 Verbindungslinie in \textproc{cLine} gespeichert. In Zeile \ref{alg:mergelines3-isbridged} wird anschließend die
 Orientierung der Verbindungslinie Punkt für Punkt untersucht (Vgl. \autoref{sub:line_detection}). Wenn der Gradient
 der Verbindungslinie sich nicht verändert hat, wird in Zeile
 \ref{alg:mergelines3-save-start}--\ref{alg:mergelines3-save-end} die Länge zum Quadrat und die Position der
 Verbindungsline in \textproc{distancepool} gespeichert.

\input{alg/analyse-hirzer/mergelines-3}

\textproc{isConnectionLineBrigded} benötigt zur Untersuchung die Verbindungsline $\mathit{connectionLine}$ und das
 Bildsignal $I$. Das Verfahren ist in \autoref{alg:isconnectionlinebridged} aufgeführt.

\input{alg/analyse-hirzer/isconnectionlinebridged}

In Zeile \ref{alg:isconnectionlinebridged-length-start}--\ref{alg:isconnectionlinebridged-length-end} wird die Länge
 der Verbindungslinie berechnet und der Startpunkt festgelegt. In der Schleife in Zeile
 \ref{alg:isconnectionlinebridged-loop-start}--\ref{alg:isconnectionlinebridged-loop-end} wird jeder Punkt auf der
 Linie untersucht. In Zeile \ref{alg:isconnectionlinebridged-gradient} wird der Gradient an der Position $i$  der
 Verbindungslinie berechent. Wenn der Gradient in Zeile \ref{alg:isconnectionlinebridged-iscompatible} mit dem Gradient
 der Linie kompatibel ist, wird die Schleife fortgesetzt. Andernfalls, wenn die Orientierung des Punktes und der Linie
 nicht kompatibel sind, wird in Zeile \ref{alg:isconnectionlinebridged-bridged} das Verfahren abgebrochen. Wenn jeder
 Punkt auf der Verbindungslinie kompatibel zur Verbindungslinie ist, wird die Schleife in Zeile
 \ref{alg:isconnectionlinebridged-loop-start}--\ref{alg:isconnectionlinebridged-loop-end} vollständig durchlaufen und
 das Verfahren in Zeile \ref{alg:isconnectionlinebridged-notbridged} beendet.
