Das Verfahren zur Linienerkennung nach \citeauthor{hirzer08} basiert, wie in \autoref{sub:line_detection_clarke} bereits
 erwähnt, auf dem Verfahren von \citeauthor{clarke96}. \citeauthor{hirzer08} verwendet in seinem Verfahren anstatt
 eines monochromen Bildsignals ein RGB-Signal. Dadurch ändern sich einige Algorithmen geringfügig und werden im
 folgenden Abschnitt erläutert.

Das Verfahren in \autoref{alg:linedetection-hirzer} unterscheidet sich von \autoref{alg:linedetection-clarke}, indem
 anstatt eines monochromen Signals $I_m$ ein RGB-Signal $I$ verwendet wird. Dadurch verändern sich auch die Verfahren
 \textproc{findEdgels} und \textproc{findLineSegments}.
\input{alg/analyse-hirzer/linedetection-hirzer}
In dem Verfahren zur Erstellung von Edgeln in \autoref{alg:findedgelshirzer-1}--\autoref{alg:findedgelshirzer-2}
\input{alg/analyse-hirzer/findedgelshirzer-1}
wird im Gegensatz zu \autoref{alg:findedgels-horizontal} die Faltung für alle drei Farbkanäle durchgeführt (Vgl. Zeile
 \ref{alg:findedgelshirzer-1-color-start}--\ref{alg:findedgelshirzer-1-color-end} in \autoref{alg:findedgelshirzer-1}
 und Zeile \ref{alg:findedgelshirzer-2-color-start}--\ref{alg:findedgelshirzer-2-color-end} in
 \autoref{alg:findedgelshirzer-2}).
\input{alg/analyse-hirzer/findedgelshirzer-2}
Betrachtet man die Methode \textproc{convoluteKernelX} und \textproc{convoluteKernelY} stellt man fest, dass hier eine
 Angabe zum Farbkanal erfolgt. In \autoref{alg:convolutekernelhirzer-horizontal} und
\input{alg/analyse-hirzer/convolutekernelhirzerx}
 \autoref{alg:convolutekernelhirzer-vertical} wird durch den Aufruf der Methode \textproc{getRGBValue} ein bestimmter
 Farbkanal betrachtet.
\input{alg/analyse-hirzer/convolutekernelhirzery}
Auch das Verfahren \textproc{gradientIntensity} in \autoref{alg:gradientintensityhirzer} verwendet die Methode
 \textproc{getRGBValue}.
\input{alg/analyse-hirzer/gradientIntensityhirzer}

\textproc{getRGBValue} dient dem auslesen eines Pixels für einen angegeben Farbkanal. In \autoref{alg:getrgbvalue} ist das Verfahren beschrieben.
\input{alg/analyse-hirzer/getrgbvalue}
Das Verfahren benötigt das RGB-Signal $I$, die Position des Pixels ($x$, $y$), den Farbkanal, sowie die Breite $w$
 und Höhe $h$ von $I$. In den Zeilen \ref{alg:getrgbvalue-sanity-start}--\ref{alg:getrgbvalue-sanity-end} wird
 sichergestellt, dass kein \gls{pixel} außerhalb der Bildgrenzen gelesen werden können. In Zeile
 \ref{alg:getrgbvalue-offset} wird der Adressabstand für ein \gls{pixel} berechnet. Die Adresse des Pixels wird in
 Zeile \ref{alg:getrgbvalue-address} aus der Adresse von $I$ und dem Adressabstand berechnet. Zuletzt wird der Wert des
 Pixels in Zeile \ref{alg:getrgbvalue-returncolor} für den angegeben Farbkanal zurückgegeben. Die Laufzeitfunktion
 des Verfahrens ist im schlechtesten Fall $T(n) = 18$. Die Wachstumsrate des Verfahrens ist $18 = \Theta(1)$, für
 $c_{1} = 17$, $c_{2} = 18$ und $n_{0} = 1$. Da \textproc{getRGBValue}, wie \textproc{getPixel}
 (\autoref{alg:getpixel}), eine konstante Laufzeit hat, ändern sich die Laufzeiten der betroffenen Methoden nicht.

% \clearpage

Das Verfahren von \citeauthor{clarke96} (\autoref{sub:linienerkennung_nach_clarke96}) liefert als Ergebnis nur kurze
 Liniensegmente, die zur Erkennung einer Marke ungeeignet sind. Im Verfahren von \citeauthor{hirzer08} werden kurze
 Liniensegmente zusammengeführt. Dazu dient das Verfahren \textproc{mergeLines}, dass in \autoref{alg:mergelines1}
 vorgestellt wird.
\input{alg/analyse-hirzer/mergelines-1}
In der Schleife von Zeile \ref{alg:mergelines1-loop-start}--\ref{alg:mergelines1-loop-end} werden alle Liniensegmente
 untersucht. In Zeile \ref{alg:mergelines1-distancepool} wird zuerst ein Speicherbereich für Distanzwerte der Linien
 initialisiert. Für jeden Lauf der Schleife wird in Zeile \ref{alg:mergelines1-cleardistancepool} der Speicherbereich
 der Distanzwerte gelöscht. Danach wird in Zeile \ref{alg:mergelines1-getline} ein Liniensegment an Position $i$
 ausgewählt. Dieses Liniensegment wird in \autoref{alg:mergelines2}--\autoref{alg:mergelines3} untersucht, um ein
 zweites, kompatibles, Liniensegment zu finden. In Zeile
 \ref{alg:mergelines1-hasdistance-start}--\ref{alg:mergelines1-hasdistance-end} wird die Anzahl der Distanzwerte
 untersucht. Wenn keine Einträge in \textproc{distancepool} vorhanden sind, wird die Verarbeitung mit einem neuen
 Durchlauf der Schleife fortgesetzt. Andernfalls werden in Zeile \ref{alg:mergelines1-mergelines} mit
 \autoref{alg:mergelines4}--\autoref{alg:mergelines6} kompatible Liniensegmente zusammengeführt.

In \autoref{alg:mergelines2} wird in der Schleife \ref{alg:mergelines2-loop-start}--\ref{alg:mergelines3-loop-end} ein
 zweites Liniensegment gesucht, das kompatibel mit dem ersten Liniensegment ist.
\input{alg/analyse-hirzer/mergelines-2}
In Zeile \ref{alg:mergelines2-ignore-start}--\ref{alg:mergelines2-ignore-end} werden Liniensegmente an der gleichen
 Position ignoriert und die Schleife mit einem neuen Lauf wiederholt. Danach wird in Zeile \ref{alg:mergelines2-j} ein
 Liniensegment an Position $j$ ausgewählt. In Zeile
 \ref{alg:mergelines2-orientation-start}--\ref{alg:mergelines2-orientation-end} wird die Orientierung der beiden
 Liniensegmente und die Orientierung der Verbindungslinie berechnet. Die Laufzeitfunktion von \autoref{alg:mergelines2}
 ist in \autoref{eq:mergelines-j-1} angegeben. Die Wachstumsrate von $18l + 1 = \Theta(l)$, für $c_{1} = 17$,
 $c_{2} = 18$ und $l_{0} = 1$.
\input{eq/hirzer/mergelines-j-1}
In Zeile \ref{alg:mergelines3-isorientationcompatible} (\autoref{alg:mergelines3}) wird die Orientierung untersucht,
 die sowohl für die Liniensegmente, als auch für die Verbindungslinie, nur geringfügig abweichen darf.
\input{alg/analyse-hirzer/mergelines-3}
Wenn die Überprüfung positiv ausfällt, wird in Zeile \ref{alg:mergelines3-cline-start}--\ref{alg:mergelines3-cline-end}
 die Verbindungslinie in \textproc{cLine} gespeichert. In Zeile \ref{alg:mergelines3-isbridged} wird anschließend die
 Orientierung der Verbindungslinie Punkt für Punkt untersucht (Vgl. \autoref{sub:line_detection_hirzer}). Wenn der
 Gradient der Verbindungslinie sich nicht verändert hat, wird in Zeile
 \ref{alg:mergelines3-save-start}--\ref{alg:mergelines3-save-end} die Länge zum Quadrat und die Position der
 Verbindungslinie in \textproc{distancepool} gespeichert. Die Laufzeitfunktion ist in \autoref{eq:mergelines-j-2}
 angegeben. Die Wachstumsrate von \autoref{alg:mergelines3} ist
 $(l \cdot \mathit{length}) + 27l = \Theta(l \cdot \mathit{length})$.
\input{eq/hirzer/mergelines-j-2}
Die Wachstumsrate der Funktion, um zwei kompatible Liniensegmente zu finden (\autoref{alg:mergelines2} und
 \autoref{alg:mergelines3}), beträgt $\Theta(l \cdot \mathit{length}) + \Theta(l) = \Theta(l \cdot \mathit{length})$.

\textproc{isConnectionLineBrigded} benötigt zur Untersuchung die Verbindungslinie $\mathit{connectionLine}$ und das
 Bildsignal $I$. Das Verfahren ist in \autoref{alg:isconnectionlinebridged} aufgeführt.
\input{alg/analyse-hirzer/isconnectionlinebridged}
In Zeile \ref{alg:isconnectionlinebridged-length-start}--\ref{alg:isconnectionlinebridged-length-end} wird die Länge
 der Verbindungslinie berechnet und der Startpunkt festgelegt. In der Schleife in Zeile
 \ref{alg:isconnectionlinebridged-loop-start}--\ref{alg:isconnectionlinebridged-loop-end} wird jeder Punkt auf der
 Linie untersucht. In Zeile \ref{alg:isconnectionlinebridged-gradient} wird der Gradient an der Position $i$  der
 Verbindungslinie berechnet. Wenn der Gradient in Zeile \ref{alg:isconnectionlinebridged-iscompatible} mit dem Gradient
 der Linie kompatibel ist, wird die Schleife fortgesetzt. Andernfalls, wenn die Orientierung des Punktes und der Linie
 nicht kompatibel sind, wird in Zeile \ref{alg:isconnectionlinebridged-bridged} das Verfahren abgebrochen. Wenn jeder
 Punkt auf der Verbindungslinie kompatibel zur Verbindungslinie ist, wird die Schleife in Zeile
 \ref{alg:isconnectionlinebridged-loop-start}--\ref{alg:isconnectionlinebridged-loop-end} vollständig durchlaufen und
 das Verfahren in Zeile \ref{alg:isconnectionlinebridged-notbridged} beendet. Die Laufzeitfunktion ist in
 \autoref{eq:connectionlinebridged} aufgeführt. Die Wachstumsrate entspricht
 $16\mathit{length} + 13 = \Theta(\mathit{length})$, für $c_{1} = 15$, $c_{2} = 16$ und $\mathit{length}_{0} = 1$.
\input{eq/hirzer/connectionlinebridged}

Nachdem in \autoref{alg:mergelines2}--\autoref{alg:mergelines3} kompatible Liniensegmente ermittelt wurden, kann mit
 \autoref{alg:mergelines4} und \autoref{alg:mergelines5} die Liniensegmente verbunden werden.
\input{alg/analyse-hirzer/mergelines-4}
In Zeile \ref{alg:mergelines4-sort-start}--\ref{alg:mergelines4-sort-end} werden die Liniensegmente anhand ihres
 Abstands aufsteigend sortiert. Dazu wird die Funktion \textproc{qsort} verwendet, die eine Wachstumsrate von
 $O(l \log l)$ hat\footcite{qsort}. Die Funktion \textproc{distanceCompare} wird von \textproc{qsort} zum
 sortieren verwendet (Vgl. \autoref{alg:distancecompare}).
\input{alg/analyse-hirzer/datastructure-distancecompare}
\textproc{distanceCompare} benötigt zwei Distanzwerte $a$ und $b$ deren Länge subtrahiert und als Ergebnis zurückgegeben
 wird. In Zeile \ref{alg:mergelines4-loop-start}--\ref{alg:mergelines5-loop-end} von \autoref{alg:mergelines4} und
 \autoref{alg:mergelines5} werden die Liniensegmente vorbereitet. Dazu wird aus dem sortierten Speicherblock
 $\mathit{distancepool}$ der Index des Liniensegments ausgelesen und gespeichert. Die Start- und Endedgel, sowie die
 Länge der Linie und ihre Orientierung werden berechnet
 (Zeile \ref{alg:mergelines4-merge-start}--\ref{alg:mergelines4-merge-end}). Die Laufzeitfunktion von
 \autoref{alg:mergelines4} ist für den schlechtesten Fall in \autoref{eq:mergelines-merge-1} aufgeführt. Die
 Wachstumsrate ist $20l + O(l \log l) + 4 = O(l \log l)$.
\input{eq/hirzer/mergelines-merge-1}
In Zeile \ref{alg:mergelines5-extendline} wird mit der Methode \textproc{extendLine} überprüft, ob sich die Linie
 erweitern lässt (Vgl. \autoref{alg:extendline1}).
\input{alg/analyse-hirzer/mergelines-5}
Falls dem so ist, wird in Zeile \ref{alg:mergelines5-merge-start}--\ref{alg:mergelines5-merge-end} der Linie an
 Position $i$ der neue Endpunkt der Linie an Position $j$ zugewiesen. Danach wird die Orientierung der Linie berechnet
 und das Liniensegment an Position $j$ zum löschen markiert. Wenn sich eine Linie nicht durch \textproc{extendLine}
 erweitern lässt, wird die Schleife abgebrochen. Die Laufzeitfunktion von \autoref{alg:mergelines5} ist für den
 schlechtesten Fall in \autoref{eq:mergelines-merge-2} angegeben. Die Wachstumsrate beträgt
 $l \cdot \Theta(\mathit{lentgth}) + 26l = \Theta(l\cdot\mathit{lentgth})$.
\input{eq/hirzer/mergelines-merge-2}

Mit \autoref{alg:mergelines6} werden die markierten Liniensegmente gelöscht. Dazu wird der Speicherblock $L$
 vollständig durchlaufen (Zeile \ref{alg:mergelines6-del-start}--\ref{alg:mergelines6-del-end}).
\input{alg/analyse-hirzer/mergelines-6}
Wenn die Überprüfung in Zeile \ref{alg:mergelines6-shouldremove} ein markiertes Liniensegment findet, wird es in Zeile
 \ref{alg:mergelines6-remove} entfernt und die Laufvariable dekrementiert. Zusätzlich wird in Zeile
 \ref{alg:mergelines6-merged} die boolesche Variable gesetzt. Wenn die Variable $\mathit{merged}$ gesetzt wurde, und
 somit Liniensegmente verschmolzen wurden, wird die Variable $i$ auf den Wert $-1$ gesetzt
 (Zeile \ref{alg:mergelines6-wasmerged-start}--\ref{alg:mergelines6-wasmerged-end}). Dies hat zur Folge, dass das
 Verfahren \textproc{mergeLines} in Zeile \ref{alg:mergelines1-loop-start} von \autoref{alg:mergelines1} wieder bei $0$
 beginnt und alle verbundenen Linien mit den restlichen Liniensegmenten verglichen werden. Die Laufzeitfunktion ist für
 den schlechtesten Fall in \autoref{eq:mergelines-delete} angegeben. Die Wachstumsrate von \autoref{alg:mergelines6}
 ist $9l + 4 = \Theta(l)$, für $c_{1} = 8$, $c_{2} = 9$, $l_{0} = 1$.
\input{eq/hirzer/mergelines-delete}
Somit kann die Wachstumsrate zum zusammenführen von Liniensegmenten (\autoref{alg:mergelines4},
 \autoref{alg:mergelines5} und \autoref{alg:mergelines6}) zu
 $O(l \log l) + \Theta(l\cdot\mathit{length}) + \Theta(l) = \Theta(l\cdot\mathit{length})$ zusammengefasst werden.

In \autoref{alg:mergelines7} sind alle Kosten von \textproc{mergeLines} aufgeführt, um die Laufzeit zu bestimmen.
\input{alg/analyse-hirzer/mergelines-7}
In \autoref{eq:mergelines-all} ist die Funktion des Verfahrens für den schlechtesten Fall aufgeführt.
\input{eq/hirzer/mergelines-all}
Die Wachstumsrate von \autoref{alg:mergelines7} ist
 $2 \cdot l \cdot \Theta(l \cdot \mathit{length}) + 8l + 3 = \Theta(l^2 \cdot \mathit{length})$.

\textproc{extendLine} (\autoref{alg:extendline1}--\autoref{alg:extendline2}) vergleicht jeden Punkt zwischen Start und
 Endpunkt auf Kompatibilität der Orientierung und benötigt dazu den Start- und Endpunkt der Linie, ihre Richtung
 $\mathit{slope}$ und die Orientierung.
\input{alg/analyse-hirzer/extendline-1}
Darüber hinaus wird die zu untersuchende Länge der Linie und das Bildsignal $I$ benötigt. In Zeile
 \ref{alg:extendline1-ortho-start}--\ref{alg:extendline1-ortho-end} wird die Orthogonale der Richtung berechnet und
 gespeichert. Die boolesche Variable wird in Zeile \ref{alg:extendline1-boolean} initialisiert. In der Schleife in Zeile
 \ref{alg:extendline1-loop-start}--\ref{alg:extendline2-loop-end} wird die Länge der Linie Punkt für Punkt untersucht.
 Die Addition von $\mathit{start}$ und $\mathit{slope}$ rückt die Position der Linie um einen Punkt weiter (Zeile
 \ref{alg:extendline1-next}). Die Faltung für die vertikale und horizontale Richtung wird in den Variablen $x$ und $y$
 gespeichert. In Zeile \ref{alg:extendline1-threshold} wird überprüft, ob der Gradient kleiner ist als die Hälfte des
 festgelegten Schwellwerts. Dadurch kann festgestellt werden, ob an der Position $\mathit{start}$ sich tatsächlich ein
 \gls{edgel} befindet. Falls dem nicht so ist, wird in Zeile \ref{alg:extendline1-break} die boolesche Variable
 aktualisiert und die Schleife abgebrochen. Die Laufzeitfunktion für den schlechtesten Fall von
 \autoref{alg:extendline1} ist in \autoref{eq:extendline-1} angegeben. Die Wachstumsrate ist
 $16\mathit{length} + 8 = \Theta(length)$, für $c_{1} = 15$, $c_{2} = 16$ und $\mathit{length}_{0} = 1$.
\input{eq/hirzer/extendline-1}
Wenn die Bedingung in Zeile \ref{alg:extendline1-threshold} nicht erfüllt ist, wird in Zeile
 \ref{alg:extendline2-orientation-start}--\ref{alg:extendline2-orientation-end} (\autoref{alg:extendline2}) die
 Orientierung an der Position von $\mathit{start}$ berechnet und der Winkel zum Gradienten ermittelt.
\input{alg/analyse-hirzer/extendline-2}
In Zeile \ref{alg:extendline2-iscompatible} wird überprüft, ob der Winkel sich innerhalb des festgelegten Grenzwertes
 befinden. Falls dem so ist, wird ein neuer Schleifendurchlauf ausgeführt. Doch falls der Winkel nicht dem vorgegeben
 Grenzwert entspricht, wird der Gradient in Zeile \ref{alg:extendline2-pointabove} an der Position untersucht, die
 einen Punkt oberhalb der Linie liegt. Dadurch muss eine Linie im Bildsignal nicht ganz gerade sein und gilt dennoch
 als eine Linie. Falls diese Untersuchung auch fehlschlägt, wird der Gradient in Zeile \ref{alg:extendline2-pointbelow}
 eine Position unterhalb der Linie untersuchen. Auch hier liegt der Grund für diese Vorgehensweise darin begründet, dass
 eine Linie nicht zwangsweise gerade sein muss. Falls dieser Vergleich wieder fehlschlägt, wird die boolesche Variable
 in Zeile \ref{alg:extendline2-false} gesetzt und die Schleife abgebrochen. In Zeile
 \ref{alg:extendline2-endofline} wird das Ende der Linie aktualisiert und der Wert der booleschen Variable in Zeile
 \ref{alg:extendline2-return} als Ergebnis zurückgegeben. Die Laufzeitfunktion von \autoref{alg:extendline2} ist für
 den schlechtesten Fall in \autoref{eq:extendline-2} angegeben. Die Wachstumsrate ist
 $27 \mathit{length} + 3 = \Theta(\mathit{length})$. für $c_{1} = 26$, $c_{2} = 27$ und $n_{0} = 1$.
\input{eq/hirzer/extendline-2}
Somit ist die Wachstumsrate für \textproc{extendLine} (\autoref{alg:extendline1}--\autoref{alg:extendline2})
 $\Theta(\mathit{length}) + \Theta(\mathit{length}) = \Theta(\mathit{length})$.

Wie in \autoref{sub:line_detection_hirzer} bereits erläutert, wird das Zusammenführen von Linien einmal für jede Region
 und einmal auf dem gesamten Bildsignal durchgeführt. Der Ablauf ist in \autoref{alg:linedetection-hirzermerging}
 dargestellt.
\input{alg/analyse-hirzer/linedetection-hirzer-merging}
In Zeile \ref{alg:linedetection-hirzermerging-mergeregion} werden Liniensegmente für die aktuelle Region
 zusammengeführt. Danach wird in Zeile \ref{alg:linedetection-hirzermerging-mergeall} alle Linien und Liniensegmente
 zusammengeführt. Die Laufzeitfunktion von \autoref{alg:linedetection-hirzermerging} ist in
 \autoref{eq:linedetection-hirzer-merging} aufgeführt.
\input{eq/hirzer/linedetection-hirzer-merging}
Durch Substitution von $r = 40$ in \autoref{eq:linedetection-hirzer-merging-3}, kann die Laufzeitfunktion vereinfacht
 werden. Die Wachstumsrate von \autoref{eq:linedetection-hirzer-merging-4} ist
$hwl^2\mathit{length} + hwmn^2 + l^2\cdot\mathit{length} + hw + h = \Theta(hwl^2\mathit{length} + hwmn^2)$.