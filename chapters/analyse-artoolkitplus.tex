\section{ARToolKitPlus} % (fold)
\label{sec:artoolkitplus}

\subsection{Datenstrukturen} % (fold)
\label{sec:datenstrukturen}

ARToolKitPlus speichert die Informationen einer Marke in zwei einfachen Datenstrukturen. Informationen zur
 Identifizierung einer Marke werden in \textproc{MarkerInfo} gespeichert (\autoref{alg:datastructure-markerinfo}) und
 Informationen zur Erkennung einer Marke werden in \textproc{MarkerInfo2} gespeichert
 (\autoref{alg:datastructure-markerinfo2}). Da \textproc{MarkerInfo} zur Identifizierung einer Marke verwendet wird,
 werde ich diese Datenstruktur nur zur Vollständigkeit erwähnen. Das Identifikationsmerkmal $\mathit{id}$ wird in
 \autoref{alg:calc} als Rückgabewert verwendet.

\input{alg/analyse-artplus/datastructure-markerinfo}

\subsubsection{MakerInfo2} % (fold)
\label{sec:makerinfo2}

Die Variable $\mathit{area}$ speichert den Flächeninhalt einer Marke, während $\mathit{pos}[2]$ die Position des
 Zentrums der Marke enthält. $\mathit{coord\_num}$ enthält die Anzahl der gefundenen Konturpixel, die in
 $\mathit{x\_coord}$ als X-Koordinate und in $\mathit{y\_coord}$ als Y-Koordinate gespeichert sind. Die konstante Größe
 $\mathit{AR\_CHAIN\_MAX}$ des Speichers für die Koordinaten wird zur Laufzeit nicht verändert. ARToolKitPlus erlaubt
 maximal $10000$ Einträge für Koordinaten pro Marke. Die Eckpunkte einer Marke sind in $\mathit{x\_coord}$ und
 $\mathit{y\_coord}$ enthalten und werden durch einen Index in $\mathit{vertex}$ referenziert. Hierbei ist zu beachten,
 dass $\mathit{vertex}$ fünf Einträge speichert, wobei der erste und letzte Eintrag auf die gleiche Koordinate
 verweisen. Dadurch kann bei der Grafikprogrammierung mit OpenGL sehr einfach ein Rahmen um eine Marke gezeichnet
 werden.

\input{alg/analyse-artplus/datastructure-markerinfo2}

Der Zugriff auf die Variablen der Datenstruktur, sowohl lesend als auch schreibend, ist konstant.

% subsubsection makerinfo2 (end)

\subsubsection{Automatischer Schwellwert} % (fold)
\label{sec:automatischer_schwellwert}

Die automatische Schwellwertanalyse von ARToolKitPlus wird durch \autoref{alg:autothresholdreset} vor ihrer Verwendung
 auf bekannte Startwerte gesetzt. Dabei wird in Zeile \ref{alg:autothresholdreset-minLum} die globale Variable
 $\mathit{minLum}$ gesetzt und in Zeile \ref{alg:autothresholdreset-maxLum} die globale Variable $\mathit{maxLum}$
 gesetzt. Die statischen Größen $\mathit{MINLUM0}$ und $\mathit{MAXLUM0}$ geben dabei die Werte an. Die Laufzeit von
 \autoref{alg:autothresholdreset} ist konstant.

\input{alg/analyse-artplus/autothresholdreset}

% subsubsection automatischer_schwellwert (end)

% subsection datenstrukturen (end)

\subsection{Fiducial Detection} % (fold)
\label{sec:fiducial_detection}

Das Verfahren der Fiducial Detection wird mit der Methode \textproc{calc} (Vgl. \autoref{alg:calc}) gestartet und
 benötigt das Bildsignal $I$, sowie den Schwellwert $\mathit{tresh}$. Die Methode \textproc{calc} dient in erster
 Linie als Einstiegspunkt der \textit{Runtime Tracking Pipeline} (Vgl. \autoref{sub:artoolkitplus},
 S.~\pageref{sub:artoolkitplus}). Darum sind Verarbeitungsschritte die nicht zur Fiducial Detection gehören nicht
 aufgeführt.

\input{alg/analyse-artplus/calc}

Die Variablen $\mathit{marker\_info}$ und $\mathit{marker\_num}$ werden in Zeile
 \ref{alg:calc-init-start}--\ref{alg:calc-init-end} initialisiert. Bei $\mathit{marker\_info}$ handelt es sich um die
 Datenstruktur \textproc{MarkerInfo} (Vgl. \autoref{alg:datastructure-markerinfo}), die der Identifikation einer Marke
 dient. In Zeile \ref{alg:calc-check-image-start}--\ref{alg:calc-check-image-end} wird überprüft, ob das Bildsignal
 nicht $0$ ist und es sich somit um einen gesetzten Zeiger auf einen Speicherbereich handelt. Falls dies nicht der Fall
 ist, wird das Verfahren abgebrochen und ein Fehlerwert von $0$ zurückgeliefert. Anschliessend wird in Zeile
 \ref{alg:calc-start-detection-start}--\ref{alg:calc-start-detection-end} die Methode \textproc{arDetectMarker}
 aufgerufen und ihr Rückgabewert überprüft. Falls während der Ausführung von \textproc{arDetectMarker} einen Fehler
 aufgetreten ist, wird die weitere Verarbeitung gestoppt und ein Fehlerwert von $-1$ zurückgegeben. Wenn
 \textproc{arDetectMarker} erfolgreich war und eine Marke identifizieren konnte, wird die Verarbeitung fortgesetzt und
 letztendlich in Zeile \ref{alg:calc-identified-marker} eine Markenidentifizierung zurückgegeben. Die Laufzeit des
 Algorithmus ist konstant.

% subsection fiducial_detection (end)

\subsection{Rectangle Fitting} % (fold)
\label{sec:rectangle_fitting}

% subsection rectangle_fitting (end)

% section artoolkitplus (end)

